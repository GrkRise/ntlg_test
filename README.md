# ntlg_test
Данное приложение выполняет запрос по web-адресу и парсит полученный массив JSON-объектов.

В папке https://github.com/GrkRise/ntlg_test/tree/master/app/src/main/res/layout хранятся файлы разметки:
activity_main.xml - содержит разметку основного экрана, который содержит плавающую кнопку (FloatingActionButton) и включает содержимое файла content_main
content_main.xml - содержит разметку основного содержания экрана: текстовое поле, список и прогресс-бар для отображения процесса загрузки и обработки JSON-объекта. Частая проблема которая возникает при использовании RecyclerView, то что у многих не всегда прокручивается до конца список, последний элемент застревает на середине за пределами экрана. Зачастую это ошибка новичков, RecyclerView прокручивается корректно в двух случаях: когда он находится внутри другой View, у окторой есть возможность прокрутки, либо когда он заведомо меньше элемента-родителя (в данном случае мы исользем высоту для RecyclerView равной 0). 
list_item.xml - содержит разметку элементов списка: два текстовых поля и изображение

В папке https://github.com/GrkRise/ntlg_test/tree/master/app/src/main/java/com/rise/grk/kotlin/ntlg_test хранятся файлы классов для обработки логики работы прложения:
MainActivity.kt - основной класс, который содержит в себе основную логику работы. В методе onCreate запускается обработка сетевого запроса и парсинг JSON-объекта и отображается прогресс-бар загрузки.
SpannableString - используется для форматирования части строковых данных (красим часть в черный цвет). С помощью Retrofit.Builder создаем сетевой запрос и выполняем GET-запрос. Далее в отдельном потоке с помощью CourutineScope получаем данные сетевого запроса и обрабатываем JSON-объект. После обработки с помощью адаптера заполняется наш список и появляется на экране. Обратите внимание что в Android все запросы сетевые должны быть выполнены вне главного потока, в противном случае у вас будет выводится ошибка. 

CustomAdapter.kt - адаптер для инициализации элементов списка в RecyclerView, по факту адаптер выполняет роль некоторого промежуточного звена, которое получает данные и заполняет View-элементы (тектосвые поля и изображения). Стоит избегать внесения сложной логики в данный класс, так как это будет влиять на скорость обработки и заполнения списка.
CourseInfo.kt - содержит набор data-классов для парсинга JSON-объекта, хорошая практика выносить такие классы каждый в отдельный файл и размещать в отдельной папке (например model), но если вы пишите приложение для 
Cell.kt - data-класс, который используется для заполнения списка. Так как структурно класс, который содержит обработанный JSON-объект достаточно большой и содержит кучу лишней ифнормации для отображения, лучше использовать класс-загрулку для обработки в адаптере. Обратите внимание, что мы цвет обрабатываем как строку. В Kotlin есть специальный объект для сцвета, но JSON-конвертер может преобразовать информацию только в базовые примитивы (строка, целое и т.д.). И уже дальше при обработке в адаптере мы преобразуем строку в цвет.

В папке https://github.com/GrkRise/ntlg_test/tree/master/app/src/main/java/com/rise/grk/kotlin/ntlg_test/retrofit хранится сервис для доступа к JSON-объекту в интернете
RetrofitService.kt - содержит интерфейс с GET-запросом к JSON-объекту

